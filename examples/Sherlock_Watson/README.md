# ğŸ•µï¸â€â™‚ï¸ SHERLOCK WATSON MORIARTY - DOCUMENTATION COMPLÃˆTE
## SystÃ¨me Multi-Agents d'Intelligence Symbolique

**Version Production 2.1.0** - Architecture ConsolidÃ©e avec IntÃ©gration TweetyProject et Semantic Kernel 1.29.0

---

## ğŸ¯ **VUE D'ENSEMBLE DU SYSTÃˆME**

Le systÃ¨me **Sherlock-Watson-Moriarty** reprÃ©sente une architecture multi-agents avancÃ©e combinant **intelligence symbolique**, **logique formelle** et **orchestration LLM** pour rÃ©soudre des problÃ¨mes de dÃ©duction complexes. Cette implÃ©mentation unique allie les capacitÃ©s de raisonnement de **TweetyProject** avec les derniÃ¨res innovations en **Semantic Kernel**.

### ğŸ—ï¸ **Architecture Tri-Agents SpÃ©cialisÃ©s**

| Agent | ğŸ­ PersonnalitÃ© | ğŸ”§ Technologies | ğŸ¯ SpÃ©cialisations |
|-------|-----------------|-----------------|-------------------|
| **ğŸ•µï¸ Sherlock Holmes** | Leader analytique dÃ©ductif | Semantic Kernel + GPT-4o-mini | EnquÃªte, hypothÃ¨ses, coordination |
| **ğŸ§  Dr Watson** | Assistant logique mÃ©thodique | TweetyProject + JPype Bridge | Validation formelle, raisonnement |
| **ğŸ­ Professor Moriarty** | Oracle mystÃ©rieux calculateur | Dataset Cluedo + IA RÃ©vÃ©lations | Indices contrÃ´lÃ©s, validation solutions |

---

## ğŸ“‚ **DÃ‰MONSTRATIONS DISPONIBLES - PRODUCTION READY**

### ğŸ•µï¸ **`sherlock_watson_authentic_demo.py`** (18,4 KB)
**Conversation authentique entre Sherlock Holmes et Dr. Watson**

- **ğŸ¯ Objectif** : DÃ©monstration d'interaction naturelle entre agents avec personnalitÃ©s distinctes
- **ğŸ”§ Technologies** : CluedoExtendedOrchestrator en temps rÃ©el sans simulation
- **âš™ï¸ Orchestration** : Dialogue contextuel avec gestion d'Ã©tats partagÃ©s
- **ğŸ“Š Validation** : Tests de naturalitÃ© et fluiditÃ© conversationnelle

```bash
# ExÃ©cution
python examples/Sherlock_Watson/sherlock_watson_authentic_demo.py

# Exemple de sortie attendue
ğŸš€ LANCEMENT CONVERSATION SHERLOCK-WATSON AUTHENTIQUE
âœ… Sherlock: "Observons les indices avec mÃ©thode, Watson."
âœ… Watson: "Analyse logique en cours, Holmes. Les faits convergent vers..."
ğŸ“Š MÃ©triques: NaturalitÃ© 8.5/10, PersonnalitÃ©s distinctes 7.8/10
```

### ğŸ² **`cluedo_oracle_complete.py`** (19,1 KB)
**Oracle Cluedo complet avec validation intÃ©grale**

- **ğŸ¯ Objectif** : Validation exhaustive du systÃ¨me Oracle (157/157 tests rÃ©ussis)
- **ğŸ”§ Technologies** : CluedoOracleState avec intÃ©gration anti-triche
- **âš™ï¸ SÃ©curitÃ©** : CluedoIntegrityError pour protection des rÃ¨gles du jeu
- **ğŸ“Š Couverture** : 100% des fonctionnalitÃ©s Oracle testÃ©es et validÃ©es

```bash
# ExÃ©cution
python examples/Sherlock_Watson/cluedo_oracle_complete.py

# Validation complÃ¨te
âœ… Tests Oracle: 157/157 rÃ©ussis (100%)
âœ… SÃ©curitÃ© anti-triche: 4/4 violations corrigÃ©es  
âœ… Permissions agent: SystÃ¨me renforcÃ© opÃ©rationnel
```

### ğŸ¤– **`agents_logiques_production.py`** (25,9 KB)
**Agents logiques configurÃ©s pour environnement production**

- **ğŸ¯ Objectif** : DÃ©monstration des capacitÃ©s logiques avancÃ©es sans mocks
- **ğŸ”§ Technologies** : CustomDataProcessor authentique avec TweetyProject
- **âš™ï¸ Pipeline** : Traitement de donnÃ©es rÃ©elles et logiques complexes
- **ğŸ“Š Performance** : OptimisÃ© pour dÃ©ploiement en conditions rÃ©elles

```bash
# ExÃ©cution
python examples/Sherlock_Watson/agents_logiques_production.py

# Processus de validation
ğŸ§  Watson: Activation TweetyProject (35+ JARs chargÃ©s)
ğŸ” Analyse logique formelle en cours...
âœ… Validation: Raisonnement propositionnel confirmÃ©
```

### ğŸ¼ **`orchestration_finale_reelle.py`** (43,4 KB)
**Orchestration finale consolidÃ©e - Point d'entrÃ©e principal**

- **ğŸ¯ Objectif** : DÃ©monstration complÃ¨te du systÃ¨me multi-agents intÃ©grÃ©
- **ğŸ”§ Technologies** : Semantic Kernel + GPT-4o-mini coordination complÃ¨te
- **âš™ï¸ Workflow** : Orchestration cyclique avec agents spÃ©cialisÃ©s
- **ğŸ“Š ComplexitÃ©** : DÃ©monstration la plus avancÃ©e et complÃ¨te du systÃ¨me

```bash
# ExÃ©cution
python examples/Sherlock_Watson/orchestration_finale_reelle.py

# Workflow complet
ğŸš€ ORCHESTRATION FINALE MULTI-AGENTS
ğŸ­ Initialisation: 3 agents spÃ©cialisÃ©s activÃ©s
ğŸ”„ Cycles: 5+ tours de collaboration structurÃ©e
ğŸ RÃ©solution: Solution collaborative validÃ©e
```

---

## ğŸ¯ **DÃ‰MONSTRATIONS SPÃ‰CIALISÃ‰ES AVANCÃ‰ES**

### ğŸ§© **Puzzle d'Einstein Complexe**
**DÃ©mo nÃ©cessitant obligatoirement TweetyProject**

```bash
# Ã‰nigme complexe avec logique formelle requise
python examples/Sherlock_Watson/agents_logiques_production.py --scenario examples/Sherlock_Watson/einstein_scenario.json

# CaractÃ©ristiques:
- 10+ clauses logiques formulÃ©es obligatoires
- 5+ requÃªtes TweetyProject exÃ©cutÃ©es minimum
- Impossible Ã  rÃ©soudre sans formalisation
- Watson validation via raisonnement formel
```

### ğŸ”® **Oracle Einstein avec Moriarty**
**SystÃ¨me d'indices progressifs par Professor Moriarty**

```bash
# Oracle Einstein avec rÃ©vÃ©lations contrÃ´lÃ©es
python scripts/sherlock_watson/run_einstein_oracle_demo.py

# FonctionnalitÃ©s:
- 15 indices progressifs prÃ©dÃ©finis
- RÃ©vÃ©lations automatiques par Moriarty
- Validation solution: "L'Allemand possÃ¨de le poisson"
- Architecture Oracle Enhanced opÃ©rationnelle
```

### ğŸ§ª **Tests Comportementaux Multi-Agents**
**Validation des personnalitÃ©s et interactions**

```bash
# Tests avec LLMs rÃ©els (9 analyses)
python scripts/sherlock_watson/test_oracle_behavior_simple.py

# MÃ©triques validÃ©es:
- PersonnalitÃ©s distinctes: 7.5/10 âœ…
- NaturalitÃ© dialogue: 6.97/10 âš ï¸ 
- FluiditÃ© transitions: 6.7/10 âš ï¸
- Score global: 8.1/10 âœ…
```

---

## âš™ï¸ **PRÃ‰REQUIS TECHNIQUES DÃ‰TAILLÃ‰S**

### ğŸ **Environnement Python**
```bash
# Configuration requise
Python 3.9+ (recommandÃ©: 3.9.18)
conda create --name projet-is python=3.9
conda activate projet-is
pip install -r requirements.txt
```

### â˜• **Environnement Java pour TweetyProject**
```bash
# Java 8+ requis pour JPype
java -version  # VÃ©rification version
echo $JAVA_HOME  # VÃ©rification variable environnement

# Si non configurÃ©:
export JAVA_HOME=/path/to/java
export PATH=$JAVA_HOME/bin:$PATH
```

### ğŸ”‘ **Configuration API OpenRouter (Essentielle)**
```env
# Fichier .env Ã  la racine du projet
OPENROUTER_API_KEY=sk-or-v1-votre-clÃ©-api-ici
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1  
OPENROUTER_MODEL=gpt-4o-mini

# Alternative OpenAI
OPENAI_API_KEY=sk-votre-clÃ©-openai-ici
```

**ğŸ“ Obtention clÃ© API** :
1. CrÃ©er compte [OpenRouter.ai](https://openrouter.ai) ou [OpenAI](https://openai.com)
2. GÃ©nÃ©rer clÃ© API dans tableau de bord
3. Ajouter ~$5 de crÃ©dits pour exploration complÃ¨te

### ğŸ“¦ **DÃ©pendances Critiques**
```bash
# Packages essentiels (automatiquement installÃ©s)
semantic-kernel>=1.29.0    # Orchestration multi-agents
jpype1>=1.4.1             # Bridge Java/Python TweetyProject  
openai>=1.0.0             # Client API LLM
numpy>=1.21.0             # Calculs scientifiques
pandas>=1.3.0             # Manipulation donnÃ©es
requests>=2.25.0          # Communications HTTP
python-dotenv>=0.19.0     # Variables environnement
```

---

## ğŸ—ï¸ **ARCHITECTURE TECHNIQUE AVANCÃ‰E**

### ğŸ”„ **Pattern Orchestration Multi-Agents**

```mermaid
graph TB
    subgraph "ğŸ›ï¸ ORCHESTRATION LAYER"
        O1[Semantic Kernel Hub]
        O2[Agent Selection Strategy]
        O3[Termination Strategy]  
        O4[State Management]
    end
    
    subgraph "ğŸ­ AGENTS LAYER"
        A1[Sherlock - Leadership]
        A2[Watson - Logic Validation]
        A3[Moriarty - Oracle Provider]
    end
    
    subgraph "ğŸ”§ SERVICES LAYER"
        S1[TweetyProject Bridge]
        S2[OpenRouter LLM]
        S3[Dataset Cluedo]
        S4[Integrity Monitor]
    end
    
    O1 --> A1
    O1 --> A2  
    O1 --> A3
    A2 --> S1
    A1 --> S2
    A3 --> S3
    O4 --> S4
```

### ğŸ” **SystÃ¨me de SÃ©curitÃ© IntÃ©grÃ©**

**ğŸ›¡ï¸ Protections Anti-Triche** :
- **CluedoIntegrityError** : Exception spÃ©cialisÃ©e pour violations
- **PermissionManager** : ContrÃ´le d'accÃ¨s renforcÃ© par agent
- **Method Validation** : VÃ©rification des opÃ©rations autorisÃ©es
- **Audit Real-Time** : Surveillance continue des tentatives de triche

**âœ… Violations CorrigÃ©es** :
1. AccÃ¨s interdit aux cartes autres joueurs (18 cartes)
2. Consultation directe de la solution finale
3. Simulations basÃ©es sur informations interdites  
4. Permissions systÃ¨me insuffisamment restrictives

---

## ğŸ“Š **MÃ‰TRIQUES DE PERFORMANCE VALIDÃ‰ES**

### âš¡ **Temps de RÃ©ponse MesurÃ©s**
- **Initialisation systÃ¨me** : 2-3 secondes (JVM + Semantic Kernel)
- **RequÃªtes TweetyProject** : 0.5-1 seconde (logique formelle)
- **Appels LLM OpenRouter** : 1-2 secondes (gpt-4o-mini)
- **Cycle orchestration complet** : 5-8 secondes (3 agents)

### ğŸ¯ **Taux de SuccÃ¨s ValidÃ©s**
- **Tests Oracle complets** : 157/157 (100%)
- **Analyses LLM comportementales** : 9/9 (100%)
- **StratÃ©gies orchestration** : 3/3 (100%)
- **Tests d'intÃ©gritÃ© sÃ©curitÃ©** : 8/8 (100%)

### ğŸ“ˆ **MÃ©triques QualitÃ© Conversation**
- **PersonnalitÃ©s distinctes** : 7.5/10 (objectif: 6.0/10) âœ…
- **NaturalitÃ© dialogue** : 6.97/10 (objectif: 7.0/10) âš ï¸
- **FluiditÃ© transitions** : 6.7/10 (objectif: 6.5/10) âœ…  
- **Score trace idÃ©ale** : 8.1/10 (objectif: 8.0/10) âœ…

---

## ğŸ“ **GUIDE UTILISATEUR DÃ‰TAILLÃ‰**

### ğŸš€ **Premiers Pas - Configuration Rapide**

1. **Installation environnement** (5 minutes)
```bash
# Clonage projet
git clone <repository-url>
cd 2025-Epita-Intelligence-Symbolique

# Environnement conda
conda create --name projet-is python=3.9
conda activate projet-is
pip install -r requirements.txt
```

2. **Configuration API** (2 minutes)
```bash
# CrÃ©ation fichier .env
echo "OPENROUTER_API_KEY=sk-or-v1-votre-clÃ©" > .env
echo "OPENROUTER_MODEL=gpt-4o-mini" >> .env
```

3. **Test validation rapide** (2 minutes)
```bash
# Test de base systÃ¨me
python examples/Sherlock_Watson/sherlock_watson_authentic_demo.py
```

### ğŸ¯ **Cas d'Usage Typiques**

#### **Pour Ã‰tudiants - Apprentissage IA**
```bash
# 1. ComprÃ©hension agents collaboratifs
python examples/Sherlock_Watson/agents_logiques_production.py

# 2. Exploration logique formelle 
python examples/Sherlock_Watson/agents_logiques_production.py --scenario examples/Sherlock_Watson/einstein_scenario.json

# 3. Validation systÃ¨me complet
python examples/Sherlock_Watson/orchestration_finale_reelle.py
```

#### **Pour Recherche - DÃ©veloppement**
```bash
# 1. Tests comportementaux avancÃ©s
python scripts/sherlock_watson/test_oracle_behavior_simple.py

# 2. Validation Oracle exhaustive
python examples/Sherlock_Watson/cluedo_oracle_complete.py

# 3. Puzzle Einstein complexe
python scripts/sherlock_watson/run_einstein_oracle_demo.py
```

### ğŸ”§ **Extension et Personnalisation**

#### **Ajout de Nouveaux Agents**
```python
# Structure agent personnalisÃ©
class MonNouvelAgent(ChatCompletionAgent):
    def __init__(self, kernel, agent_name, service_id):
        super().__init__(
            kernel=kernel,
            service_id=service_id,
            name=agent_name,
            instructions="Instructions spÃ©cialisÃ©es...",
            description="Description du rÃ´le..."
        )
```

#### **Extension des Oracles**
```python
# Nouveau dataset Oracle
class MonOracle:
    def __init__(self):
        self.dataset = {...}  # DonnÃ©es spÃ©cialisÃ©es
        self.indices = [...]  # Progression rÃ©vÃ©lations
    
    def get_next_indice(self):
        # Logique de rÃ©vÃ©lation personnalisÃ©e
        pass
```

---

## ğŸ› ï¸ **TROUBLESHOOTING ET RÃ‰SOLUTION D'ERREURS**

### âŒ **Erreurs FrÃ©quentes et Solutions**

#### **Erreur JPype/TweetyProject**
```bash
# SymptÃ´me
JPypeException: No matching overloads found

# Solution
export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
pip install --upgrade jpype1
```

#### **Erreur API OpenRouter**
```bash
# SymptÃ´me  
openai.AuthenticationError: Invalid API key

# Solution
# VÃ©rifier .env
cat .env | grep OPENROUTER_API_KEY
# RÃ©gÃ©nÃ©rer clÃ© sur openrouter.ai
```

#### **Erreur Semantic Kernel**
```bash
# SymptÃ´me
ImportError: No module named 'semantic_kernel'

# Solution
pip install --upgrade semantic-kernel>=1.29.0
conda activate projet-is  # VÃ©rifier environnement
```

### ğŸ” **Debugging AvancÃ©**

#### **Mode Verbose Complet**
```python
# Activation logs dÃ©taillÃ©s
import logging
logging.basicConfig(level=logging.DEBUG)

# Dans les scripts
python examples/Sherlock_Watson/orchestration_finale_reelle.py --debug
```

#### **Validation Configuration**
```bash
# Script de diagnostic
python -c "
import sys
print(f'Python: {sys.version}')
try:
    import semantic_kernel
    print(f'Semantic Kernel: {semantic_kernel.__version__}')
except ImportError:
    print('âŒ Semantic Kernel non installÃ©')
try:
    import jpype
    print(f'JPype: {jpype.__version__}')
except ImportError:
    print('âŒ JPype non installÃ©')
"
```

---

## ğŸ“š **RÃ‰FÃ‰RENCES ET DOCUMENTATION COMPLÃ‰MENTAIRE**

### ğŸ”— **Liens Documentation Technique**
- **Architecture ComplÃ¨te** : [`docs/sherlock_watson/../../docs/sherlock_watson/guide_unifie_sherlock_watson.md`](../../docs/sherlock_watson/../../docs/sherlock_watson/guide_unifie_sherlock_watson.md)
- **Guide SÃ©curitÃ© Oracle** : [`docs/sherlock_watson/../../docs/sherlock_watson/guide_unifie_sherlock_watson.md`](../../docs/sherlock_watson/../../docs/sherlock_watson/guide_unifie_sherlock_watson.md)
- **Rapport Mission ComplÃ¨te** : [`docs/sherlock_watson/../../docs/sherlock_watson/guide_unifie_sherlock_watson.md`](../../docs/sherlock_watson/../../docs/sherlock_watson/guide_unifie_sherlock_watson.md)

### ğŸ“– **Documentation Externe**
- **Semantic Kernel** : [Documentation Officielle Microsoft](https://learn.microsoft.com/en-us/semantic-kernel/)
- **TweetyProject** : [Guide Logique Formelle](http://tweetyproject.org/doc/)
- **OpenRouter API** : [Documentation API](https://openrouter.ai/docs)
- **JPype Bridge** : [Guide Java/Python](https://jpype.readthedocs.io/)

### ğŸ¯ **Tests d'IntÃ©gration AssociÃ©s**
- **Tests finaux consolidÃ©s** : [`tests/finaux/validation_complete_sans_mocks.py`](../../tests/finaux/validation_complete_sans_mocks.py)
- **Tests d'intÃ©gration TweetyProject** : [`tests/integration/test_einstein_tweetyproject_integration.py`](../../tests/integration/test_einstein_tweetyproject_integration.py)

---

## ğŸ† **CONCLUSION - SYSTÃˆME PRODUCTION-READY**

Le systÃ¨me **Sherlock-Watson-Moriarty** reprÃ©sente une **architecture de rÃ©fÃ©rence** pour les systÃ¨mes multi-agents d'intelligence symbolique avec :

âœ… **Excellence Technique** : IntÃ©gration Semantic Kernel 1.29.0 + TweetyProject  
âœ… **Validation ComplÃ¨te** : 157 tests Oracle + 9 analyses comportementales  
âœ… **SÃ©curitÃ© RenforcÃ©e** : Anti-triche avec 4 violations corrigÃ©es  
âœ… **Performance Optimale** : <3s par cycle complet d'orchestration  
âœ… **Documentation Exhaustive** : Guides complets pour reproduction  

**ğŸ“ PrÃªt pour utilisation acadÃ©mique et recherche avancÃ©e en IA symbolique.**

---

*Documentation mise Ã  jour - Version 2.1.0 - 10/06/2025*  
*Architecture consolidÃ©e sans mocks - Production ready*