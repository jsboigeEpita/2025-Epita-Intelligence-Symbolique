============================= test session starts =============================
platform win32 -- Python 3.9.12, pytest-8.4.0, pluggy-1.6.0 -- C:\tools\miniconda3\python.exe
cachedir: .pytest_cache
rootdir: C:\dev\2025-Epita-Intelligence-Symbolique\tests
configfile: pytest.ini
plugins: anyio-4.9.0, asyncio-1.0.0, mock-3.14.1
asyncio: mode=strict, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

validation_sherlock_watson/test_final_oracle_100_percent.py::test_oracle_100_percent_validation FAILED [100%]

================================== FAILURES ===================================
_____________________ test_oracle_100_percent_validation ______________________
validation_sherlock_watson\test_final_oracle_100_percent.py:101: in test_oracle_100_percent_validation
    assert success, "Les tests Oracle ne sont pas � 100%"
E   AssertionError: Les tests Oracle ne sont pas � 100%
E   assert False
---------------------------- Captured stdout setup ----------------------------
2025-06-08 16:57:59,817 - tests.mocks.jpype_setup - INFO - Test test_oracle_100_percent_validation utilise MOCK JPype.
2025-06-08 16:57:59,818 - tests.mocks.jpype_setup - INFO - �tat (_jvm_started, _jvm_path, config.jvm_path) du mock JPype r�initialis� pour le test.
---------------------------- Captured stdout call -----------------------------
2025-06-08 16:58:01,089 - tests.mocks.jpype_setup - INFO - jpype_setup.py: pytest_sessionfinish hook triggered. Exit status: 1
2025-06-08 16:58:01,090 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: sys.modules['jpype'] IS _REAL_JPYPE_MODULE. Le vrai JPype a potentiellement été utilisé.
2025-06-08 16:58:01,090 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: Tentative d'arrêt de la JVM via shutdown_jvm_if_needed() car le vrai JPype a potentiellement été utilisé.
2025-06-08 16:58:01,090 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: Vérification de l'état de la JVM après tentative d'arrêt.
2025-06-08 16:58:01,090 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: JVM encore démarrée après tentative d'arrêt: False
2025-06-08 16:58:01,090 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: destroy_jvm est False (selon config): False
2025-06-08 16:58:01,090 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: JVM non démarrée ou destroy_jvm est True. Pas de gestion spéciale de sys.modules pour atexit depuis ici.
\n=== VALIDATION SP\xc9CIFIQUE GROUPE 3 ===\n\u2705 Test 11: kernel_function_decorators - Correction de l'acc\xe8s \xe0 __kernel_function__.description\n\u2705 Test 12: execute_oracle_query_invalid_json - Correction du message d'erreur JSON\n\u2705 Test 13: check_agent_permission_invalid_query_type - ValueError correctement lev\xe9e\n\u2705 Test 14: oracle_tools_error_handling - Correction du message d'erreur syst\xe8me\n\n\U0001f527 Corrections suppl\xe9mentaires appliqu\xe9es:\n\u2705 Remplacement de execute_query par execute_oracle_query dans tous les tests\n\u2705 Harmonisation des noms de m\xe9thodes Oracle\n\u2705 Validation de la compatibilit\xe9 compl\xe8te\n=== TEST FINAL - OBJECTIF 100% ORACLE (94/94) ===\nSORTIE DES TESTS ORACLE:\n==================================================\n============================= test session starts =============================\ncollecting ... 2025-06-08 16:58:00,657 - tests.mocks.jpype_setup - INFO - jpype_setup.py: \xc3\u2030valuation de _REAL_JPYPE_AVAILABLE...\n2025-06-08 16:58:00,657 - tests.mocks.jpype_setup - INFO - jpype_setup.py: Valeur brute de os.environ.get('USE_REAL_JPYPE', 'false'): 'false'\n2025-06-08 16:58:00,657 - tests.mocks.jpype_setup - INFO - jpype_setup.py: _REAL_JPYPE_AVAILABLE \xc3\xa9valu\xc3\xa9 \xc3\xa0: False\n2025-06-08 16:58:00,657 - tests.mocks.jpype_setup - INFO - jpype_setup.py: _REAL_JPYPE_MODULE initialis\xc3\xa9 \xc3\xa0 partir de _PRE_EXISTING_JPYPE_IN_SYS_MODULES (ID: 2952646245200).\n2025-06-08 16:58:00,657 - tests.mocks.jpype_setup - INFO - jpype_setup.py: _REAL_JPYPE_MODULE est initialis\xc3\xa9 (ID: 2952646245200) avant la d\xc3\xa9finition des fixtures.\n2025-06-08 16:58:00,658 - tests.mocks.jpype_setup - INFO - jpype_setup.py: Mock JPype pr\xc3\xa9par\xc3\xa9.\n16:58:00 [INFO] [tests.fixtures.integration_fixtures_fixture] initialize_jvm, LIBS_DIR, TWEETY_VERSION import\xc3\xa9s avec succ\xc3\xa8s.\n16:58:00 [INFO] [tests.fixtures.integration_fixtures_fixture] _REAL_JPYPE_MODULE et _JPYPE_MODULE_MOCK_OBJ_GLOBAL import\xc3\xa9s de jpype_setup.\n2025-06-08 16:58:00,839 - tests.mocks.jpype_setup - INFO - jpype_setup.py: pytest_sessionstart hook triggered.\n2025-06-08 16:58:00,839 - tests.mocks.jpype_setup - INFO -    pytest_sessionstart: Real JPype module is available.\n2025-06-08 16:58:00,839 - tests.mocks.jpype_setup - INFO -    pytest_sessionstart: La configuration de jpype.config.destroy_jvm est g\xc3\xa9r\xc3\xa9e par initialize_jvm.\n2025-06-08 16:58:00,848 - tests.mocks.jpype_setup - INFO - jpype_setup.py: pytest_sessionfinish hook triggered. Exit status: 4\n2025-06-08 16:58:00,848 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: sys.modules['jpype'] IS _REAL_JPYPE_MODULE. Le vrai JPype a potentiellement \xc3\xa9t\xc3\xa9 utilis\xc3\xa9.\n2025-06-08 16:58:00,848 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: Tentative d'arr\xc3\xaat de la JVM via shutdown_jvm_if_needed() car le vrai JPype a potentiellement \xc3\xa9t\xc3\xa9 utilis\xc3\xa9.\n2025-06-08 16:58:00,850 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: V\xc3\xa9rification de l'\xc3\xa9tat de la JVM apr\xc3\xa8s tentative d'arr\xc3\xaat.\n2025-06-08 16:58:00,850 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: JVM encore d\xc3\xa9marr\xc3\xa9e apr\xc3\xa8s tentative d'arr\xc3\xaat: False\n2025-06-08 16:58:00,850 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: destroy_jvm est False (selon config): False\n2025-06-08 16:58:00,850 - tests.mocks.jpype_setup - INFO -    pytest_sessionfinish: JVM non d\xc3\xa9marr\xc3\xa9e ou destroy_jvm est True. Pas de gestion sp\xc3\xa9ciale de sys.modules pour atexit depuis ici.\ncollected 0 items\n\n============================ no tests ran in 0.01s ============================\n16:58:00 [INFO] [conftest.setup] Configuration globale du logging appliqu\xc3\xa9e.\n16:58:00 [INFO] [conftest.setup] conftest.py: USE_REAL_JPYPE=false, _SHOULD_USE_REAL_JPYPE=False\n16:58:00 [INFO] [conftest.setup] conftest.py: Application du mock JPype au niveau module dans sys.modules.\n16:58:00 [DEBUG] [tests.mocks.jpype_components.config] MockConfig instance cr\xc3\xa9\xc3\xa9e. jvm_path: None, convertStrings: False, onexit: True, destroy_jvm: True\n16:58:00 [INFO] [tests.mocks.jpype_components.config] Instance 'config' de MockConfig cr\xc3\xa9\xc3\xa9e.\n16:58:00 [INFO] [tests.mocks.jpype_components.imports] Instance de MockJpypeImports cr\xc3\xa9\xc3\xa9e (_the_actual_imports_object).\n16:58:00 [DEBUG] [tests.mocks.jpype_components.imports] Module factice 'jpype.imports' cr\xc3\xa9\xc3\xa9: <module 'jpype.imports'>\n16:58:00 [DEBUG] [tests.mocks.jpype_components.imports] Fonction 'registerDomain' attach\xc3\xa9e au module factice 'jpype.imports'.\n16:58:00 [INFO] [tests.mocks.jpype_components.imports] Module factice 'jpype.imports' inject\xc3\xa9 dans sys.modules.\n16:58:00 [INFO] [tests.mocks.jpype_components.imports] Module jpype_components.imports initialis\xc3\xa9.\n16:58:00 [INFO] [tests.mocks.jpype_components.jclass_core] Module jpype_components.jclass_core initialis\xc3\xa9.\n16:58:00 [INFO] [tests.mocks.jpype_components.types] Module jpype_components.types initialis\xc3\xa9.\n16:58:00 [INFO] [tests.mocks.jpype_components.exceptions] Module jpype_components.exceptions initialis\xc3\xa9.\n16:58:00 [INFO] [tests.mocks.jpype_components.tweety_enums] Module jpype_components.tweety_enums initialis\xc3\xa9 avec les mocks d'\xc3\xa9num\xc3\xa9rations Tweety.\n16:58:00 [INFO] [tests.mocks.jpype_mock] jpype_mock.py (principal) en cours de chargement.\n16:58:00 [INFO] [tests.mocks.jpype_mock] Instance de _MockJpypeCoreModule inject\xc3\xa9e dans sys.modules['jpype._jpype'], sys.modules['_jpype'] et sys.modules['jpype._core'].\n16:58:00 [DEBUG] [tests.mocks.jpype_mock] MockJavaNamespace cr\xc3\xa9\xc3\xa9 pour pr\xc3\xa9fixe: 'java'\n16:58:00 [INFO] [tests.mocks.jpype_mock] Mock JPype1 (jpype_mock.py principal) initialis\xc3\xa9 et refactoris\xc3\xa9.\n16:58:00 [INFO] [tests.mocks.jpype_mock] Les composants sont maintenant dans le package 'jpype_components'.\n16:58:00 [INFO] [conftest.setup] Mock JPype appliqu\xc3\xa9 \xc3\xa0 sys.modules DEPUIS conftest.py.\n16:58:00 [INFO] [argumentation_analysis] Package 'argumentation_analysis' charg\xc3\xa9.\n16:58:00 [INFO] [Orchestration.JPype] LIBS_DIR (global) d\xc3\xa9fini sur (primaire): C:\\dev\\2025-Epita-Intelligence-Symbolique\\libs\\tweety\n16:58:00 [INFO] [Orchestration.JPype] (OK) JDK portable d\xc3\xa9tect\xc3\xa9 : C:\\dev\\2025-Epita-Intelligence-Symbolique\\libs\\portable_jdk\\jdk-17.0.11+9\n16:58:00 [INFO] [NumpyMock] NumpyMock: Successfully imported real numpy for some components.\n16:58:00 [INFO] [NumpyMock] NumpyMock: Using real numpy version: 2.0.2\n16:58:00 [INFO] [NumpyMock] Types NumPy d\xc3\xa9finis: bool_=<class 'numpy.bool'>, number=<class 'numpy.number'>, object_=<class 'numpy.object_'>\n16:58:00 [INFO] [NumpyMock] Type de bool_: <class 'type'>, Type de number: <class 'type'>, Type de object_: <class 'type'>\n16:58:00 [INFO] [NumpyMock] Module numpy_mock charg\xc3\xa9\n16:58:00 [INFO] [Orchestration.JPype] JVM_SETUP: Appel de shutdown_jvm_if_needed.\n16:58:00 [DEBUG] [tests.mocks.jpype_components.jvm] isJVMStarted() appel\xc3\xa9e. Retourne: False\n16:58:00 [DEBUG] [tests.mocks.jpype_components.jvm] isJVMStarted() appel\xc3\xa9e. Retourne: False\n16:58:00 [INFO] [Orchestration.JPype] JVM_SETUP: JVM n'\xc3\xa9tait pas d\xc3\xa9marr\xc3\xa9e. Aucun arr\xc3\xaat n\xc3\xa9cessaire. isJVMStarted: False\n16:58:00 [DEBUG] [tests.mocks.jpype_components.jvm] isJVMStarted() appel\xc3\xa9e. Retourne: False\nERROR: file or directory not found: tests/unit/argumentation_analysis/agents/core/oracle/\n\n\n==================================================\n\nR\xc9SULTATS:\nTests pass\xe9s: 0\nTests \xe9chou\xe9s: 0\nTotal: 0\n\u274c Aucun test d\xe9tect\xe9
-------------------------- Captured stdout teardown ---------------------------
2025-06-08 16:58:01,082 - tests.mocks.jpype_setup - INFO - �tat de JPype restaur� apr�s test test_oracle_100_percent_validation (utilisation du mock).
=========================== short test summary info ===========================
FAILED validation_sherlock_watson/test_final_oracle_100_percent.py::test_oracle_100_percent_validation
============================== 1 failed in 1.41s ==============================
